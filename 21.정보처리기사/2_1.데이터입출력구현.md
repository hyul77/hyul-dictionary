# 2_1.데이터 입출력 구현
## DB
### DataBase
- 공동으로 사용될 데이터를 중복을 배제하여 통합하고 저장장치에 저장하여 항상 사용할 수 있도록 운영하는 운영데이터
- 통합된 데이터 : 자료의 중복을 배제한 데이터의 모임
- 저장된 데이터 : 컴퓨터가 접근할 수 있는 저장 매체에 저장된 자료
- 운영 데이터 : 조직의 고유한 업무를 수행하는데 반드시 필요한 자료
- 공용 데이터 : 여러 응용 시스템들이 공동으로 소유하고 유지하는 자료

### DB 관리시스템(DBMS)
- 사용자와 DB 사이에서 정보를 생성, 관리 해주는 SW
- 요구사항 식별시 고려 (가용성, 성능, 기술지원, 상호호환성, 구축 비용)
- DBMS 필수 기능 3가지 (정의기능, 조작기능, 제어기능)

### DB 설계 순서
- 요구조건분석 -> 개념적 설계 -> 논리적 설계 -> 물리적 설계 -> 구현

### 개념적 설계
- 현실세계에 대한 것을 추상적 개념으로 표현한 것
- 개념 스키마 모델링과 트랜잭션 모델링을 병행 수행
- E-R 다이어그램 작성

### 논리적 설계
- 현실 세계에서 발생하는 자료를 물리적 저장 장치에 저장할 수 있도록 변환 시키는 과정
- 개념 스키마를 평가 및 정제하고 서로 다른 논리적 스키마를 설계

### 물리적 설계
- 논리적 구조로 표현된 데이터를 디스크 등의 물리적 저장장치에 저장할 수 있도록 물리적 구조의 데이터로 변환
- 저장 레코드의 형식, 순서, 접근 경로, 조회 집중 레코드 등의 정보를 사용

### 스키마
- DB의 구조와 제약조건에 관한 전반적인 명세
- 외부 스키마 : 사용자나 응용 프로그래머가 각 개인의 입장에서 필요한 DB의 논리적 구조 정의함
- 개념 스키마 : DB의 전체적 논리적 구조, 하나만 존재
- 내부 스키마 : 물리적 저장장치의 입장에서 본 DB 구조, 내부 레코드의 물리적 순서등을 나타냄

### 데이터 모델
- 현실 세계 정보를 단순화, 추상화하여 체계적으로 표현한 개념적 모형
- 표시할 요소(구조, 연산, 제약조건)

### 개체
- DB에 표현하려는 것, 사람이 생각하는 개념이나 정보 단위 같은 현실 세계의 대상체
- 독립적으로 존재하거나 그 자체로 구별이 가능하며 유일한 식별자에 의해 식별

### 관계
- 개체와 개체 사이의 논리적인 연결 의미
- 일대일, 일대다, 다대다

### E-R 모델
- 객체-관계 모델로 현실세계의 무질서한 데이터를 개념적인 논리 데이터로 표현
- 피터 첸에 의해 제안됨

### E-R 다이어그램
- 사각형:개체, 마름모:관계, 타원:속성, 이중타원:다중값속성, 밑줄타원:기본키, 복수타원:복합속성, 관계:대응수, 선,링크:개체 타입 속성연결

### 관계형 DB의 릴레이션 구조
- 릴레이션은 데이터들을 표의 형태로 표현 스키마와 인스턴스로 구성

### 튜플
- 릴레이션을 구성하는 각각의 행 의미
- 속성의 모임
- 튜플의 수 = 카디널리티, 기수, 대응수

### 속성 
- 가장 작은 논리적 단위, 개체의 특성을 기술
- 속성의 수 = 디그리, 차수

### 도메인
- 하나의 속성이 취할 수 있는 같은 타입의 원자값들의 집합

### 기본키
- 후보키 중에서 특별히 선정된 주키
- 중복값 X, NULL값 X, 유일하게 구별할 수 있는 속성

### 후보키
- 릴레이션을 구성하는 속성들 중 튜플을 유일하게 식별하기 위해 사용하는 속성의 부분집합
- 기본키로 사용할 수 있는 속성들
- 유일성, 최소성 만족

### 대체키(보조키)
- 후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키

### 슈퍼키
- 속성들의 집합으로 구성된 키
- 유일성은 만족하지만 최소성은 만족하지 못함

### 외래키
- 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합

### 무결성
- DB에 저장된 데이터 값과 실제값이 일치하는 정확성
- 개체 무결성 : 기본 테이블의 기본키를 구성하는 어떤 속서어도 NULL값이나 중복값을 가질 수 없음
- 참조 무결성 : 외래키 값은 NULL이거나 차조 릴레이션의 기본키 값과 동일해야함

### 관계대수
- 원하는 정보와 그 정보를 검색하기 위해서 어떻게 유도하는가를 기술하는 절차적인 언어
- 연산자와 연산규칙을 제공하며, 피연산자와 연산 결과가 모두 릴레이션

### 순수 관계 연산자
- Select, Project, Join, Division

### 일반 집합 연산자
- 합집합, 교집합, 차집합, 교차곱

### 관계해석
- 관계 데이터의 연산을 표현하는 방법
- 원하는 정보가 무엇이라는 것만 정의하는 비절차적 특성을 지님

### 이상
- 데이터들이 불필요하게 중복되어 릴레이션 조작 시 예기치 않게 발생하는 곤란한 현상
- 삽입 이상 : 의도와 상관없이 원하지 않는 값들로 인해 삽입할 수 없게 되는 현상
- 삭제 이상 : 의도와 상관없는 값들도 함꼐 삭제되는 연쇄 삭제 발생하는 현상
- 갱신 이상 : 일부 튜플의 정보만 갱신되어 정보에 불일치성이 생기는 현상

### 함수적 종속
- 함수적 종속 : X->Y
- 완전 함수적 종속 : ZㄷX
- 부분 함수적 종속 : Y가 다른 속성 집합 X 전체에 대해 함수적 종속이면서 X의 임의의 진부분 집합에 대해 함수적 종속일 때

### 정규화
- 테이블의 속성들이 상호 종속적인 관계를 갖는 특성을 이용해 테이블을 무손실 분해하는 과정
- 목적은 중복을제거하여 이상의 발생 가능성을 줄이는 것

### 정규화 과정
- 제 1정규형(1NF) : 모든 속성 도메인이 원자값(리스트 형태 삭제)
- 제 2정규형(2NF) : 기본키가 아닌 모든 속성이 기본키에 대하여 완전 함수적 종속을 만족
- 제 3정규형(3NF) : 모든 속성이 기본키에 대해 이행적 함수적 종속을 만족하지않는 정규형
- BCNF : 모든 결정자가 후보키
- 제 4정규형(4NF) : 다중값 종속 존재할 경우 R의 모든 속성이 함수적 종속 관계를 만족
- 제 5정규형(5NF) : 모든 조인 종속이 후보키를 통해서만 성립

### 정규화 과정 정리
- 도메인이 원자값
- 부분적 함수 종속 제거
- 이행적 함수 종속 제거
- 결정자이면서 후보키가 아닌 것 제거
- 다치 종속 제거
- 조인 종속성 이용

### 반정규화
- 시스템의 선응을 향상 및 운영의 편의성을 높이기 위해 정규화 된 데이터 모델을 의도적으로 통합, 중복, 분리해 정규화 원칙을 위배

### 중복 테이블 추가
- 작업의 효율성을 향상시키기 위해 테이블을 추가
- 집계 테이블, 진행 테이블, 특정 부분만 포함하는 테이블의 추가

### 시스템 카탈로그
- 다양한 객체에 관한 정보를 포함하는 시스템 데이터베이스
- 데이터 사전에 저장되어 좁은 의미로는 카탈로그를 데이터 사전이라고도 함

### 트랜잭션
- 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 한꺼번에 모두 수행되어야 할 일련의 연산들
- 사용자 요구시 시스템이 응답하기 위한 상태 변환 과정의 작업 단위

### 트랜잭션 특성
- 원자성 : 모두 반영되도록 완료 되든지 아니면 전혀 반영되지 않도록 복구 되어야함
- 일관성 : 언제나 일관성 있는 DB 상태로 변환함
- 독립성, 격리성 : 둘 이상의 트랜잭션이 동시에 병행되는 경우 다른 트랜잭션의 연산에 끼어들 수 없음
- 영구성, 지속성 : 성공적으로 완료된 트랜잭션의 결과는 시스템이 고장나도 영구적으로 반영되어야함

### CRUD 분석
- 프로세스와 테이블간의 CRUD매트릭스를 만들어 트랜잭션을 분석
- 생성, 읽기, 갱신, 삭제 연산으로 분석

### 인덱스
- 데이터 레코드를 빠르게 접근하기 위해 <키, 포인터> 쌍으로 구성

### 클러스터드/넌클러스터드 인덱스
- 클러스터 인덱스: 인덱스 키의 순서에 따라 데이터가 정렬되어 저장되는 방식, 인덱스를 검색하지 않아도 원하는 데이터를 빠르게 찾을 수 있음
- 넌클러스터 인덱스 : 인덱스 키 값만 정렬되어 있고 실제 데이터는 정렬 되어있지 않음, 삽입 삭제 시 순서 유지하기 위해 데이터 재정렬 필요

### View
- 사용자에게 접근이 허용된 자료만을 제한적으로 보여주기 위해 하나이상의 기본 테이블로부터 유도된 가상 테이블
- Create, Drop

### 파티션
- 대용량의 테이블이나 인덱스를 작은 논리적 단위인 파티션으로 나눔
- 성능저하 방지, 관리 용이
- 데이터 처리는 테이블 단위, 저장은 파티션별 수행

### 파티션의 종류
- 범위 분할 : 지정한 열의 값을 기준
- 해시 분할 : 해시함수 적용한 결과 값에 따라 데이터 분할, 주민번호등과 같은 고른 컬럼에 효과적
- 조합 분할 : 범위 분할로 분할한 다음 해시 함수 적용, 범위 분할한 파티션이 너무 커 관리 어려울 때

### 분산 데이터베이스의 목표
- 위치 투명성 : DB의 논리적인 명칭만으로 접근 가능
- 중복 투명성 : 동일 데이터가 여러 곳에 중복 되어있어도 사용자는 하나의 데이터만 존재하는 것 처럼 사용
- 병행 투명성 : 분산 DB와 관련된 다수의 트랜잭션들이 동시에 실현되어도 영향이 없음
- 장애 투명성 : 트랜잭션, DBMS, 네트워크, 컴퓨터 장애에도 트랜잭션을 정확하게 처리함